<div class="page page-form ng-scope">
  <div class="row">
    <div class="col-md-1"></div>
    <div class="col-md-10">
      <div class="panel panel-default">
        <div class="panel-heading">
          <strong><span class="glyphicon glyphicon-th"></span> Edit Profile <%= resource_name.to_s.humanize %></strong>
        </div>
        <div class="panel-body ng-scope">
          <div class="row">
            <div class="col-md-9">
              <% if flash[:notice] %>
                <p class='notice'><%= flash[:notice] %></p>
              <% end %>
              <%= form_for(resource, as: resource_name, url: registration_path(resource_name), :class=> "form-validation ng-pristine ng-invalid ng-invalid-required ng-invalid-equal", html: { method: :put }) do |f| %>
                <%= devise_error_messages! %>
                <fieldset>
                  <div class="form-group">
                     <%= f.label :email %><br />
                    <%= f.email_field :email, :class=> "form-control ng-pristine ng-invalid ng-invalid-required", autofocus: true %>
                </div>

                  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                    <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
                  <% end %>

                    <div class="form-group">
                      <div class="row">
                        <div class="col-sm-6">
                         <%= f.label :password %> <i>(*not required)</i><br />
                         <%= f.password_field :password, :class=> "form-control ng-pristine ng-invalid ng-invalid-required", autocomplete: "off" %>
                        </div>
                        <div class="col-md-6">
                          <%= f.label :password_confirmation %><br />
                          <%= f.password_field :password_confirmation, :class=> "form-control ng-pristine ng-invalid ng-invalid-required", autocomplete: "off" %>
                        </div>
                      </div>
                    </div>

                   <div class="form-group">
                      <%= f.label :current_password %> <i>(we need your current password to confirm your changes)</i><br />
                     <%= f.password_field :current_password, :class=> "form-control ng-pristine ng-invalid ng-invalid-required", autocomplete: "off" %>
                 </div>

                   <div class="form-group">
                      <%= f.label :profile_photo %>
                      <%= f.file_field :profpic %>
                 </div>
                   <div><%= f.submit "Update", :class=> "btn btn-success btn-block" %></div>
                 </fieldset>
                 <% end %>
               </div>
               <div class="col-sm-3 profile">
                  <%= image_tag @user.profpic.thumb1 if @user.profpic %>
               </div>
             </div> <!-- row -->
               </div> <!-- panel-body -->
             </div> <!-- panel-default -->
             <div class="panel panel-default">
               <div class="panel-heading">
                 <strong><span class="glyphicon glyphicon-th"></span> Cancel account</strong>
               </div>
               <div class="panel-body ng-scope">
                  <strong><p>Unhappy? <%= button_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, :class=> "btn btn-w-md btn-gap-v btn-warning", method: :delete %></p></strong>
                </div>
<!--             <%= link_to "Back", :back %>
 -->        </div>
        </div>  <!-- col-10 -->
            <div class="col-md-1"></div>
    </div> <!-- row -->
  </div> <!--page page-form ng-scope -->
